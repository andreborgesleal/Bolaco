@using DWM.Models.Repositories
@using App_Dominio.Repositories
@model DWM.Models.RegisterViewModel
@{
    ViewBag.Title = "Bolaço";
    Layout = "~/Views/Shared/_LayoutLogin.cshtml";
}
@using (Html.BeginForm("Register", "Account", FormMethod.Post, new { @class = "form-horizontal" }))
{
    Model.dt_inscricao = DateTime.Today;
    @Html.HiddenFor(info => info.dt_inscricao, DateTime.Today)
    <div id="div-lov"></div>
    <div class="panel panel-default" style="margin-top: 10px">
        <div class="panel-heading">
            <h2 class="panel-title">
                Cliente <small style="color: #000">Registro de inscrição "Bolaço da Norte Refrigeração"</small>
            </h2>
        </div>
        <div class="panel-body" style="background-color: #fff">
            <div class="row">
                <div class="col-md-12">
                    <div class="form-group" style="margin-top: 10px">
                        @Html.ValidationSummary(false)
                        @Html.AntiForgeryToken()
                    </div>
                </div>
                <div class="col-md-12">
                    <!-- Nav tabs -->
                    <ul class="nav nav-pills">
                        <li><a href="#identificacao" data-toggle="tab" id="_identificacao" onclick="showBotaoSalvar(this)">Identificação</a></li>
                        <li><a href="#palpite_fase1" data-toggle="tab" id="_dados_dep" onclick="showBotaoSalvar(this)">Palpite 1ª Fase</a></li>
                        <li><a href="#palpite_fase2" data-toggle="tab">Palpite Final</a></li>
                        <li><a href="#login" data-toggle="tab" id="_login" onclick="showBotaoSalvar(this)">Ticket de Venda</a></li>
                    </ul>
                    <div class="tab-content">
                        <!-- Tab identificacao -->
                        <div class="tab-pane fade in active" id="identificacao">
                            <div class="row" style="margin-top: 35px">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.nome, "Nome *", new { @class = "col-md-3 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.nome, new { @class = "form-control input-sm", @Style = "width: 180%; text-transform: uppercase;", @maxlength = "50" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.cpf, "CPF *", new { @class = "col-md-3 control-label" })
                                        <div class="col-md-3">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.cpf, new { @class = "form-control input-sm" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.email, "E-mail *", new { @class = "col-md-3 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.email, new { @class = "form-control input-sm", @style = "width: 180%; text-transform: lowercase;", @maxlength = "100" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.telefone, "Telefone *", new { @class = "col-md-3 control-label" })
                                        <div class="col-md-3">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.telefone, new { @class = "form-control input-sm" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.endereco, new { @class = "col-md-3 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.endereco, new { @class = "form-control input-sm", @placeholder = "Endereço", @Style = "width: 180%; text-transform: uppercase;", @maxlength = "60" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.complemento, new { @class = "col-md-3 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.complemento, new { @class = "form-control input-sm", @style = "width: 180%", @maxlength = "25" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.cidade, new { @class = "col-md-3 control-label" })
                                        <div class="col-md-6">
                                            @Html.TextBoxFor(m => m.ClienteViewModel.cidade, new { @class = "form-control input-sm", @style = "width: 180%; text-transform: uppercase", @maxlength = "25" })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.uf, new { @class = "col-md-3 control-label" })
                                        <div class="col-md-2">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.uf, new { @class = "form-control input-sm", @style = "text-transform: uppercase", @maxlength = "2" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ClienteViewModel.cep, new { @class = "col-md-3 control-label" })
                                        <div class="col-md-3">
                                            <div class="input-group">
                                                @Html.TextBoxFor(m => m.ClienteViewModel.cep, new { @class = "form-control input-sm" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @* ******************** *@
                        @* Palpite Fase 1       *@
                        @* ******************** *@
                        <div class="tab-pane fade" id="palpite_fase1">
                            <div class="row" style="margin-top: 35px">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score1Brasil, "Brasil", new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score1Brasil, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score1Croacia, "Croácia", new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score1Croacia, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score2Brasil, "Brasil", new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score2Brasil, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score2Mexico, "México", new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score2Mexico, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score3Brasil, "Brasil", new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score3Brasil, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score3Camaroes, "Camarões", new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score3Camaroes, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @* ****************** *@
                        @* Palpite Final      *@
                        @* ****************** *@
                        <div class="tab-pane fade" id="palpite_fase2">
                            <div class="row" style="margin-top: 35px">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.selecao1Id_Final, new { @class = "col-md-4 control-label" })
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    @Html.DropDownList("selecao1Id_Final", new DWM.Models.Enumeracoes.BindDropDownList().Selecao("Selecione...", ""), new { @class = "form-control input-sm" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score1_final, new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score1_final, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.selecao2Id_Final, new { @class = "col-md-4 control-label" })
                                            <div class="col-md-6">
                                                <div class="input-group">
                                                    @Html.DropDownList("selecao2Id_Final", new DWM.Models.Enumeracoes.BindDropDownList().Selecao("Selecione...", ""), new { @class = "form-control input-sm" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-group">
                                            @Html.LabelFor(m => m.score2_final, new { @class = "col-md-3 control-label" })
                                            <div class="col-md-2">
                                                <div class="input-group">
                                                    @Html.TextBoxFor(m => m.score2_final, new { @class = "form-control input-sm", @maxlength = "2" })
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @* ******************** *@
                        @* Login de Acesso      *@
                        @* ******************** *@
                        <div class="tab-pane fade" id="login">
                            <div class="row" style="margin-top: 35px">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        @Html.Label("Login", new { @class = "col-md-2 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group col-md-6">
                                                @Html.TextBox("login1", "", new { @class = "form-control input-sm", @disabled = "disable" })<br />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.senha, "Senha*", new { @class = "col-md-2 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group col-md-3">
                                                @Html.PasswordFor(m => m.senha, new { @class = "form-control input-sm" })<br />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.confirmacaoSenha, "Confirmação de Senha*", new { @class = "col-md-2 control-label" })
                                        <div class="col-md-8">
                                            <div class="input-group col-md-3">
                                                @Html.PasswordFor(m => m.confirmacaoSenha, new { @class = "form-control input-sm" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.ticketId, new { @class = "col-md-2 control-label" })
                                        <div class="col-md-6">
                                            <div class="input-group col-md-4">
                                                @Html.TextBoxFor(m => m.ticketId, new { @class = "form-control input-sm" })
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        @Html.LabelFor(m => m.dt_compra, new { @class = "col-md-2 control-label" })
                                        <div class="col-md-8">
                                            @Html.EditorFor(info => info.dt_compra, "DATE", new { identificador = "dt_compra", readOnly = "false" })
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel-footer" style="background-color: #3c533f">
            <div class="row">
                <div class="col-md-10">
                    <a class="btn btn-default" href="#modal-container-964987a" data-toggle="modal">Instruções</a>
                </div>
                <div class="col-md-offset-2" id="div-salvar" style="visibility: hidden">
                    @Html.Partial("_defaultListButtons",
                                    new List<ButtonRepository>
                                    {
                                        new ButtonRepository() {    linkText = "Salvar",
                                                                    actionName = "",
                                                                    controllerName = "",
                                                                    buttonType = "submit"
                                                                } ,
                                        new ButtonRepository() {    linkText = "Cancelar",
                                                                    actionName = "",
                                                                    controllerName = "",
                                                                    buttonType = "link"
                                                                }
                                    })
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-offset-8">
        ( * ) - Campo de preenchimento obrigatório
    </div>

    @***********Formulário Modal INSTRUÇÕES **************@
    <div class="modal fade" id="modal-container-964987a" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myModalLabel">
                        Instruções de preenchimento do cadastro
                    </h4>
                </div>
                <div class="modal-body Scroll">
                    <p>O preenchimento é composto de 6 etapas: </p>
                    <blockquote>
                        <p>1. Identificação</p>
                        <small>Nesta etapa deve ser preenchido os dados de identificação do condômino.</small>
                        <small>Informar o nome completo do condômino sem abreviações.</small>
                        <small>Informar o e-mail do condômino que será utilizado tanto para realizar o login de acesso quanto para receber as notificações.</small>
                        <small>O e-mail do condômino deve ser um e-mail válido, de uso constante e deve ser único, ou seja, não pode haver e-mails repetidos no cadastro do @ViewBag.Title</small>
                        <small>Existem dois campos para preenchimento do telefone. Se possível, informe o telefone (com DDD) residencial e o telefone celular respectivamente.</small>
                        <small>O campo "Data de Nascimento" não é obrigatório, no entanto se você informar poderemos lhe enviar mensagens e lhe oferecer um tratamento personalizado.</small>
                        <small>Para informar o campo "Profissão", localize a sua profissão e caso sua profissão não esteja contemplada na lista, preencher com "Outros"</small>
                        <p></p>
                        <p>2. Palpite 1ª Fase</p>
                        <small>Nesta etapa deve ser preenchido os dados de todas as pessoas que frequentam e habitam a unidade.</small>
                        <small>Por questões de segurança de nosso condomínio e para facilitar o contato com você, não deixe de informar seus dependentes. É muito importante que possamos identificar quem são as pessoas que transitam e habitam no @ViewBag.Title.</small>
                        <small>Informar o nome completo do dependente sem abreviações. </small>
                        <small>O e-mail do dependente não é obrigatório. Deve ser informado o e-mail daqueles que poderão acessar este Sistema do @ViewBag.Title.</small>
                        <p></p>
                        <p>3. Palpite Final</p>
                        <small>Nesta etapa deve ser informado os dados de funcionários que frequentam a unidade.</small>
                        <small>Informar o nome do funcionário sem abreviações. Se não souber o nome completo, informar pelo menos o nome e sobrenome.</small>
                        <small>Identificar a função, os dias da semana que o funcionário costuma frequentar a unidade e o horário aproximado.</small>
                        <p></p>
                        <p>4. Ticket de Venda</p>
                        <small>Para a inclusão do condômino no cadastro de usuários e sua liberação de acesso ao Sistema do @ViewBag.Title é nessário o preenchimento dos campos abaixo:</small>
                        <small><b>Login</b>: O acesso ao sistema sempre será realizado a partir do e-mail do condômino informado na etapa de Identificação.</small>
                        <small><b>Senha</b>: Informar uma senha que será utilizada para realizar seu acesso ao sistema. A senha preferencialmente deverá conter números e letras e deve possuir um mínimo de 6 dígitos.</small>
                        <small><b>Confirmar Senha</b>: Redigitar novamente a senha.</small>
                        <small><b>Código de Barras</b>: INFORMAR TODOS OS DÍGITOS DO CÓDIGO DE BARRAS CONSTANTE NO BOLETO DE PAGAMENTO DA TAXA CONDOMINIAL REFERENTE VENCIMENTO ABRIL/2014.</small>
                        <small>Estes números são os mesmos que você informa quando realiza o pagamento pelo Internet Banking.</small>
                        <small>Estes números serão validados pelo nosso sistema e caso estejam corretos seu cadastro será ativado e seu acesso será liberado IMEDIATAMENTE.</small>
                        <small>Caso tenha perdido seu boleto será necessário comparecer à administração do @ViewBag.Title munido do título de propriedade do imóvel (se for o proprietário) ou do contrato de locação (se for o inquilino) para efetivar a liberação do acesso ao sistema.</small>
                        <small>Ao final do preenchimento, clique no botão Salvar.</small>
                    </blockquote>                    
                    <p><b>COMPROVAÇÃO DO CADASTRO:</b></p>
                    <p>Você receberá em seu e-mail uma mensagem de notificação confirmando seu cadastro.</p>
                    <p>Seu cadastro ficará <b>ativo</b> por 30 dias. Neste período solicitamos que compareça à administração para apresentar o título de propriedade do imóvel (se você é o proprietário) ou o contrato de locação (se você é o inquilino.)</p>
                    <p>Se preferir, pode também digitalizar esse documento e enviar pelo próprio sistema, através da abertura de um chamado.</p>
                    <p>Após a entrega do documento e análise da administração, seu acesso será liberado em definitivo.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>
}

<script type="text/javascript">
    document.getElementById("_identificacao").click();

    $('#uf').mask('aa');
    $("#cpf").mask("999.999.999-99");
    $("#cep").mask("99999-999");
    $("#telefone").mask("99 9999-9999");
    $("#placa6").mask("aaa9999");

    function showBotaoSalvar(obj) {
        if ($(obj).attr('id') == "_login")
        {
            $("#div-salvar").css("visibility", "visible");
            $("#login1").attr("value", $("#ClienteViewModel_email").val());
        }
        else
        {
            $("#div-salvar").css("visibility", "hidden");
        }

    }
</script>
